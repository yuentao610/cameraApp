ApplicationCamera.zip是最终完整版代码，其他的是阶段性代码。

# 图片编辑应用 (TT-IC-Camera)

## 一、项目背景与目标

### 1.1 项目背景

在移动互联网时代，图片编辑工具已成为用户日常生产、生活的必备应用，涵盖社交分享、工作汇报、创意设计等多个场景。本项目以'轻量高效、功能实用、体验流畅'为核心定位，开发一款面向大众用户的图片编辑App。

### 1.2 项目目标

- **技术目标**：熟练运用客户端Android开发技术，实现图像加载、处理、保存等核心功能，掌握性能优化、异常处理等关键技巧。
- **产品目标**：开发一款功能完整、操作简洁、运行稳定的图像编辑工具，满足用户基础编辑需求，具备一定的易用性和扩展性。

## 二、开发环境与技术栈

### 2.1 开发方向

本项目采用Android开发方向，专注于提供高质量的移动端图片编辑体验。

### 2.2 技术栈

| 分类 | 技术/工具 | 用途 |
|------|----------|------|
| 开发语言 | Kotlin | 主要开发语言，提供现代、安全的编程体验 |
| IDE | Android Studio | 官方推荐的Android开发环境 |
| 核心组件 | Activity、Fragment | 用户界面构建的基础组件 |
| 架构组件 | Jetpack | 提供现代Android应用架构支持 |

### 2.3 第三方库使用说明

- **权限申请**：使用系统标准权限API，确保用户隐私安全
- **核心功能实现**：相册模块、编辑算法（滤镜、裁剪、文字叠加）、合成保存等核心功能均手动实现，以确保对性能的精确控制和定制化需求

> **注意**：若使用第三方库，将在后续开发中详细说明使用理由及场景。

## 三、核心功能模块

### 3.1 相册选图
- 支持加载手机本地图片，分为两个Tab：所有图片和按文件夹归类
- 处理相册权限申请及异常情况（无权限、相册为空）
- 实现图片缩略图异步加载（正方形裁剪）
- 支持图片大图预览功能
- 支持单张图片选取并进入编辑界面

### 3.2 相机拍照
- 支持调用相机拍摄图像并直接导入编辑界面
- 处理相机权限申请及设备无相机的异常情况

### 3.3 图片缩放与导航
- 图片导入后自动适配编辑界面
- 支持手势缩放（0.5倍-2倍）、平移查看图像细节

### 3.4 图片裁剪
- 提供自由裁剪及固定比例裁剪（1:1、4:3、16:9、3:4、9:16）
- 支持拖动裁剪框调整范围
- 保证裁剪后图像清晰无畸变

### 3.5 旋转与翻转
- 支持图像90°顺时针旋转、90°逆时针旋转、180°旋转
- 支持水平翻转、垂直翻转功能
- 操作过程中实时预览效果

### 3.6 亮度与对比度调节
- 提供滑动条调节亮度（范围-100至100）
- 提供滑动条调节对比度（范围-50至150）
- 调节过程中实时更新图像显示，默认值为0

### 3.7 文字编辑功能
- 支持在图片上添加自定义文字内容，支持换行
- 提供文字样式调节：
  - 字体选择（至少3种可选）
  - 字号调节（12-36号）
  - 颜色选择（支持RGB调色或预设10种常用颜色）
  - 透明度调节（50%-100%）
- 支持文字拖动平移至图像任意位置
- 支持双指缩放文字大小、旋转文字角度（0-360°）

### 3.8 保存模块
- 编辑完成后支持将图像保存至手机相册
- 处理存储权限申请及存储失败异常（如存储空间不足）
- 保存成功后给出明确提示
- 保存过程中为图片添加"训练营"水印以增强辨识度

## 四、其他功能

### 4.1 动画过渡
- 从相册缩略图到图片详情的大图实现流畅的动画过渡
- 保证图片缩放位移过程顺滑自然

### 4.2 滤镜功能
- 内置至少6种基础滤镜：原图、黑白、复古、清新、暖色调、冷色调
- 滤镜效果均手动实现，确保效果可控

### 4.3 贴纸功能
- 内置10种以上常用贴纸（表情、装饰元素等）
- 支持贴纸拖动、缩放、旋转及删除操作
- 支持调整贴纸层级

### 4.4 图像拼接功能
- 支持2-4张图像拼接
- 提供三种拼接模式：
  - 横向拼接
  - 纵向拼接
  - 网格拼接（2×2）
- 确保拼接后图像边缘整齐

### 4.5 夜间模式
- 支持切换日间/夜间模式
- 夜间模式下界面亮度降低、色调柔和，保护用户视力

### 4.6 分享模块
- 支持将编辑后的图片一键分享至抖音
- 处理分享失败异常情况

## 五、性能要求

### 5.1 相册流畅度
- 不论相册资源数量如何，启动速度不超过1秒
- 滑动帧率不低于30fps
- 始终可以加载出高清预览图

### 5.2 图像加载速度
- 从相册选取或相机拍摄后，图像导入编辑界面的时间不超过1秒
- 编辑过程中切换滤镜、调节参数的预览响应时间不超过0.5秒

### 5.3 内存占用
- 编辑单张10MB以内图像时，App内存占用不超过200MB
- 避免出现内存泄漏导致的卡顿或崩溃

### 5.4 稳定性
- 连续编辑10张图像（包含各种操作），App无卡顿、无闪退，操作流畅

### 5.5 兼容性
- Android端需兼容Android 10及以上版本
- 在至少2种不同型号的设备上测试通过

## 六、界面与交互要求

### 6.1 界面设计
- 遵循"简洁易用"原则，布局清晰合理
- 核心功能按钮（裁剪、文字、保存等）位置显眼，操作路径简单易用

### 6.2 交互体验
- 手势操作流畅，如缩放、旋转、拖动等无延迟
- 按钮点击反馈清晰（颜色变化、震动提示）
- 编辑过程中提供实时预览，避免用户'盲操作'

### 6.3 适配要求
- 支持不同屏幕尺寸及分辨率的设备，界面元素自动适配
- 无拉伸、错位等问题
- 支持横屏/竖屏切换，切换时界面布局合理调整

## 七、总结

本项目旨在开发一款功能完整、操作简洁、运行稳定的图片编辑工具，满足用户在社交分享、工作汇报、创意设计等场景下的图片编辑需求。通过严格遵循技术规范和产品要求，确保应用具备优秀的性能和用户体验。
